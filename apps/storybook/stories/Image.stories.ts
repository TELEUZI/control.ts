import { OptimizedImage, type OptimizedImageProps } from '@control.ts/design-system';
import type { Meta, Story } from '@storybook/html';

const meta: Meta<OptimizedImageProps> = {
  title: 'Example/OptimizedImage',
  tags: ['autodocs'],
  render: (args) => {
    const image = OptimizedImage(args);
    return image.node;
  },
  argTypes: {
    src: { control: 'string' },
    width: { control: 'number' },
    height: { control: 'number' },
    laziness: {
      control: ['lazy', 'intersection', 'none'],
      default: 'lazy',
      description: 'specifies how image should load',
    },
  },
} satisfies Meta<OptimizedImageProps>;

export const Lazy: Story = {
  args: {
    src: 'https://avatars.githubusercontent.com/u/105741866?s=64&v=4',
    width: 100,
    height: 100,
    laziness: 'lazy',
  },
};

const base64img = `data:image/png;base64,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`;

export const Placeholder: Story = {
  args: {
    width: 22,
    height: 63,
    alt: 'image',
    placeholder: base64img,
    src: 'jopa',
  },
};

export default meta;
